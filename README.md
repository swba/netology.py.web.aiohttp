# Домашнее задание к лекции «Aiohttp»

Данный проект представляет собой простой REST API
для сайта объявлений. Он основан на двух моделях
&mdash; пользователь (`User`) и объявление
(`Advertisement`). Для пользователей реализованы
методы регистрации (`/api/v1/register`) и входа
(`/api/v1/login`), для объявлений &mdash; 
создания (`/api/v1/advertisements`) и
получения/редактирования/удаления 
(`/api/v1/advertisements/{id}`).
Для создания, редактирования и удаления объявлений
требуется токен доступа (JWT), который возвращается
конечной точкой `/api/v1/login`. При этом 
редактировать и удалить объявление может только 
его автор.

## Структура проекта

- `config.py` &mdash; базовые константы.
- `models.py` &mdash; определения моделей и
функция подготовки базы данных.
- `crud.py` &mdash; универсальные CRUD-функции.
- `validation.py` &mdash; классы валидаторов 
pydantic и универсальная функция валидации данных.
- `db.py` &mdash; подготовка базы данных.
- `errors.py` &mdash; класс HTTP-ошибок.
- `views.py` &mdash; функции представлений.
- `app.py` &mdash; приложение Flask.
- `main.py` &mdash; Запуск сервера.
- `client.py` &mdash; примеры запросов (в 
принципе, не нужен, поскольку есть тесты).

## Конфигурация

Переменные окружения загружаются из `.env`-файла,
который исключён из git. Образец содержимого 
этого файла находится в файле `.env.example`.
В папке `tests` находится свой файл `.env`,
аналогичный по структуре основному и также 
исключённый из git.

## Тестирование

Перед запуском тестов в папке `tests` нужно
запустить тестовый сервер (файл `tests/server.py`).
Я не нашёл способ автоматически запускать и 
затем останавливать сервер при запуске тестов.
Наверное, плохо искал :)